---
title: ColBERT Reranker
sidebarTitle: "ColBERT"
description: Enhance search results with ColBERT's contextual reranking in LanceDB. Features efficient model deployment, device optimization, and flexible scoring options for vector, FTS, and hybrid search.

---

import { PyRerankingColbertUsage, PyRerankingColbertMultivector } from '/snippets/integrations.mdx';

# ColBERT Reranker

This reranker uses ColBERT model to rerank the search results. You can use this reranker by passing `ColbertReranker()` to the `rerank()` method.

> **Note:** Supported query types – Hybrid, Vector, FTS, and Multivector.

## Multivector search

`ColbertReranker` also supports reranking results from multiple vector searches at once via `rerank_multivector()`.

This is useful when you search across multiple embedding columns (for example, `vector` and `meta_vector`) and want a single reranked result set.

<Warning>
When using `deduplicate=True`, each input result set must include row IDs (otherwise deduplication will fail). Add row IDs to each search with `.with_row_id(True)`.
</Warning>

<CodeGroup>
  <CodeBlock filename="Python" language="Python" icon="python">
    {PyRerankingColbertMultivector}
  </CodeBlock>
</CodeGroup>


<CodeGroup>
  <CodeBlock filename="Python" language="Python" icon="python">
    {PyRerankingColbertUsage}
  </CodeBlock>
</CodeGroup>

Accepted Arguments
----------------
| Argument | Type | Default | Description |
| --- | --- | --- | --- |
| `model_name` | `str` | `"colbert-ir/colbertv2.0"` | The name of the reranker model to use.|
| `column` | `str` | `"text"` | The name of the column to use as input to the cross encoder model. |
| `device` | `str` | `None` | The device to use for the cross encoder model. If None, will use "cuda" if available, otherwise "cpu". |
| `return_score` | `str` | `"relevance"` | Options are "relevance" or "all". The type of score to return. If "relevance", will return only the `_relevance_score. If "all" is supported, will return relevance score along with the vector and/or fts scores depending on query type. |


## Supported Scores for each query type
You can specify the type of scores you want the reranker to return. The following are the supported scores for each query type:

### Hybrid Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Results only have the `_relevance_score` column. |
| `all` | ❌ Not Supported | Results have vector(`_distance`) and FTS(`score`) along with Hybrid Search score(`_relevance_score`). |

### Vector Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Results only have the `_relevance_score` column. |
| `all` | ✅ Supported | Results have vector(`_distance`) along with Hybrid Search score(`_relevance_score`). |

### FTS Search
|`return_score`| Status | Description |
| --- | --- | --- |
| `relevance` | ✅ Supported | Results only have the `_relevance_score` column. |
| `all` | ✅ Supported | Results have FTS(`score`) along with Hybrid Search score(`_relevance_score`). |
